# Отчет по лабораторной работе
## по курсу "Искусственный интеллект"

### Студенты: 

| ФИО       | Роль в проекте                     | Оценка       |
|-----------|------------------------------------|--------------|
| Меджидли Исмаил | Создание дерева И-ИЛИ, реализация части правил, написание отчета |          |
| Селивёрстов Дмитрий | Разработка системы на Python, реализация части правил |          |
| Дубровин Дмитрий | Разработка системы на Python, реализация части правил |          |


> *Комментарии проверяющих (обратите внимание, что более подробные комментарии возможны непосредственно в репозитории по тексту программы)*

## Тема работы

Экспертная система по классификации музыкальных композиций

## Концептуализация предметной области

Предметная область включает в себя различные аспекты музыкальных композиций, такие как жанр, страна происхождения, временной период, темп, наличие вокала, настроение и дополнительные специфические категории. Эти аспекты были распределены между участниками команды для детального анализа.

Для реализации онтологии музыкальных композиций были выделены следующие параметры:

- **Цель применения**: Какова функция музыкальной композиции (например, для расслабления, для тренировки, для вечеринки).
- **Жанр**: Определение жанра композиции (поп, рок, электронная музыка и т.д.).
- **Страна**: Страна происхождения композиции.
- **Период**: Временной период создания композиции.
- **Темп**: Темп композиции (быстрый или медленный).
- **Вокал**: Наличие вокала в композиции.
- **Настроение**: Общее настроение композиции.
- **Специфические категории**: Дополнительные категории, такие как ‘Для расслабления’, ‘Для тренировки’ и т.д.

Система классификации не изменяется во времени, что исключает необходимость в динамических знаниях.

Для визуализации концептов и связей между параметрами используется онлайн-доска Miro, которая позволяет команде совместно работать над структурированием и представлением данных.

https://miro.com/app/board/uXjVKiHMRj8=/?share_link_id=752769825160

## Принцип реализации системы

Для классификации музыкальных композиций мы предполагаем использовать механизм вывода на основе правил. Этот подход позволяет нам легко интегрировать и обновлять знания в системе, а также обеспечивает гибкость в обработке запросов пользователей. Мы выбрали язык программирования Python для реализации системы из-за его простоты, мощности и широкой поддержки библиотеками для обработки данных.

Архитектура системы будет состоять из нескольких модулей:

- **Модуль классификации**: Отвечает за определение категорий музыкальных композиций.
- **База знаний**: Хранит информацию о музыкальных жанрах, настроении, темпе и других характеристиках.
- **Интерфейс пользователя**: Позволяет пользователю взаимодействовать с системой через команды в терминале.
- **Механизм вывода**: Обрабатывает запросы пользователя и возвращает результаты классификации.

## Механизм вывода

Механизм вывода будет использовать набор правил для классификации музыкальных композиций. Например, если пользователь ищет музыку для расслабления, система может применить правило, которое связывает медленный темп и жанр Lo-fi с этой категорией.

Механизм обратного вывода:

```Python
class KnowledgeBase():

  def __init__(self, criteria):
    self.criteria = criteria
    self.memory = {}

  def get(self, name):
    if name in self.memory.keys():
      return self.memory[name]
    for key in self.criteria.keys():
      if key == name or key.startswith(name + ":"):
        value = 'y' if key == name else key.split(':')[1]
        result = self.evaluate(self.criteria[key], field=name)
        if result == 'y':
          self.memory[name] = value
          return value
    result = self.evaluate(self.criteria['default'], field=name)
    self.memory[name] = result
    return result

  def evaluate(self, expression, field=None):
    if isinstance(expression, Query):
      print(field)
      return expression.prompt()
    elif isinstance(expression, Condition):
      return self.evaluate(expression.value)
    elif isinstance(expression, All) or isinstance(expression, list):
      expression = expression.value if isinstance(expression, All) else expression
      for item in expression:
        if self.evaluate(item) == 'n':
          return 'n'
      return 'y'
    elif isinstance(expression, Any):
      for item in expression.value:
        if self.evaluate(item) == 'y':
          return 'y'
      return 'n'
    elif isinstance(expression, str):
      return self.get(expression)
    else:
      print("Unknown expression: {}".format(expression))
```
## Извлечение знаний и база знаний

Извлечение знаний происходило путем анализа музыкальных баз данных и сбора информации от экспертов в области музыки. База знаний была построена в форме дерева И-ИЛИ, где листьями являются конкретные характеристики композиций, а узлами - правила, которые определяют категории.

## Протокол работы системы

Пример работы №1:
```
Genre:rock
y/n
y
Country:Russia
y/n
y
Period:2000s
y/n
y
Tempo:fast
y/n
n
Genre:pop
y/n
y
Country:USA
y/n
y
Period:2010s
y/n
y
Tempo:slow
y/n
y
Superman
```

![Superman-1](https://github.com/MAILabs-Edu-2024/ai-lab-1-knowledge-representation-3/assets/108530450/c18f705a-719a-4a06-8f17-66f357b2b725)

Пример работы №2:
```
Genre:rock
y/n
y
Country:Russia
y/n
y
Period:2000s
y/n
n
Genre:pop
y/n
n
Genre:rap
y/n
n
Genre:electronic
y/n
y
Country:Germany
y/n
y
Period:80s
y/n
n
Genre:Hip-Hop
y/n
y
Country:USA
y/n
y
Period:2010s
y/n
y
Tempo:fast
y/n
y
Mood:happy
y/n
y
Vocal:no
y/n
y
Busy signals
```

![Busy signals-1](https://github.com/MAILabs-Edu-2024/ai-lab-1-knowledge-representation-3/assets/108530450/86e3cbbb-0787-4662-82af-3c8d5f5b1883)

## Выводы

Подводя итоги работы над проектом, наша команда пришла к следующим выводам:

1. Экспертные системы представляют собой мощный инструмент для классификации и анализа данных, однако их эффективность напрямую зависит от качества и структурированности базы знаний.
2. Разработка экспертной системы требует тщательного планирования и четкого понимания логики работы механизма вывода.
3. Визуализация архитектуры системы и ее компонентов с помощью инструментов, таких как Miro, способствует лучшему взаимопониманию в команде и упрощает процесс разработки.
4. Совместная работа и обмен знаниями внутри команды являются ключевыми факторами успешного создания и функционирования экспертной системы.

В заключение, работа над проектом экспертной системы позволила нам применить на практике знания, полученные на лекциях. Этот опыт оказался чрезвычайно полезным, поскольку экспертные системы предоставляют возможности для автоматизации сложных процессов принятия решений и анализа данных. Они открывают новые горизонты для развития интеллектуальных приложений и улучшения взаимодействия между человеком и машиной.
